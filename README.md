# Multi-epoch Meta-Hash (MMH) Storage System

> **TL;DR:** This is the first public, falsifiable cosmic prediction protocol with receipts at the exabyte scale from a 128-bit seed. If wrong, we kill it, publicly.

[![Open in Colab](https://colab.research.google.com/assets/colab-badge.svg)](https://colab.research.google.com/github/Bigrob7605/MMH/blob/main/examples/mmh_demo.ipynb)

## 🚀 MMH Storage System: Blazing Fast, Fully Reproducible

**Latest benchmark:**  
- 20GB unfolded in **20.7 seconds** on 64GB RAM / RTX 4070 / Windows 11
- Deterministic output, 128-bit entropy:  
  - SHA256: `89176e1bee3fa69cf3e67cab65e4f8c3120ff6b48f3d1c830032b815addbdf1f`
  - First 16 bytes: `b'B\x18\x86Yi\xb7f\xfb\xb8\xa5\xcb&\x03@\xf98'`
  - Last 16 bytes:  `b':\xd5+\xc2\x02\x05\x98\xf1\xbep\x80\xea,i\xda\xb3'`

*See `benchmarks/20gb_test.txt` for full data and reproducibility.*

**How to unfold any seed:**
```python
from mmh import unfold
data = unfold(bytes.fromhex('7f3a2c9e45af01b6da2d4316a2b0e5d1'), 20*1024*1024*1024)
```

**Crypto mode:**
For cryptographic (adversarial) use, just add `mode='crypto'` to `unfold`—block-hash secure, still deterministic.

## 🔗 Reproducibility Challenge

Anyone, anywhere, any OS—run the code above and you’ll get the **exact same bytes**.

* Run `pytest -v tests` for full determinism/stress coverage.
* Ready for open review, challenge, and cosmic “seed bet.”

---

## Overview
MMH is a deterministic, seed-based data unfolding protocol. It allows you to store massive datasets as tiny seeds (e.g., 128 bits), then perfectly regenerate the data on demand. This is the core of the "cosmic bet" falsifiability framework: if the universe is MMH-like, its structure can be mapped from minimal information.

- **fold(data: bytes) -> seed: bytes**: Hashes data to a 128-bit seed (lossy for arbitrary data, perfect for MMH-generated data).
- **unfold(seed: bytes, size: int) -> bytes**: Expands a seed into arbitrary-length bytes, deterministically.
- **unfold_floats(seed: bytes, n: int) -> np.ndarray**: Expands a seed into n float32 values.
- **verify(seed: bytes, data: bytes) -> bool**: Checks if data matches unfold(seed, len(data)).
- **fingerprint(data: bytes) -> str**: Returns SHA-256 hex digest of data.

## Quickstart

```bash
pip install -r requirements.txt
```

### Unfold 1MB from a 128-bit seed
```python
from mmh import unfold_floats, fingerprint
seed = bytes.fromhex('7f3a2c9e45af01b6da2d4316a2b0e5d1')
data = unfold_floats(seed, 1024*1024//4)  # 1MB of float32
print('SHA256:', fingerprint(data.tobytes()))
print('Mean, std:', data.mean(), data.std())
```

### Fold data to a seed
```python
from mmh import fold
seed = fold(data.tobytes())
```

### Verify data
```python
from mmh import verify
assert verify(seed, data.tobytes())
```

## CLI Usage

- `mmh fold file.bin` → prints/outputs seed
- `mmh unfold <seed> <size> > file.bin`
- `mmh verify <seed> file.bin`

## Invertibility & Limitations
- **Invertibility is only guaranteed for data generated by MMH unfold, not for arbitrary data.**
- For random data, fold is lossy (see Kolmogorov complexity).
- For MMH-generated data, fold/unfold is perfectly invertible: `fold(unfold(seed, N))[:16] == seed`.
- For arbitrary data, this is not true and is expected to fail.

## Real-World Example: The Cosmic Bet
- **Seed:** `7f3a2c9e45af01b6da2d4316a2b0e5d1`
- **How to unfold:**
  ```python
  from mmh import unfold_floats
  seed = bytes.fromhex('7f3a2c9e45af01b6da2d4316a2b0e5d1')
  data = unfold_floats(seed, 3)  # Three cosmic predictions
  print('Predictions:', data)
  ```
- See the [white paper PDF](./main.pdf) for details on the cosmic bet and predictions.

## Links
- [MMH GitHub Repo](https://github.com/Bigrob7605/MMH)
- [Colab Demo](https://colab.research.google.com/github/Bigrob7605/MMH/blob/main/examples/mmh_demo.ipynb)
- [White Paper PDF](./main.pdf)

## Peer Review & Challenge
If you can break the deterministic mapping, find an inconsistency, or show a nontrivial invertible fold for random data, [open an issue](https://github.com/Bigrob7605/MMH/issues). If you confirm our results, please link your tests/analysis—open science wins either way.

## Examples
- Store 1MB as a seed, regenerate, check hash.
- "Cosmic bet": seed → quantized predictions (see paper).

## Advanced
- Plug in blake3 for speed (optional).
- Allow variable seed sizes.

## License
MIT 

## Contact

- **Email:** Screball7605@aol.com
- **Facebook:** [facebook.com/SillyDaddy7605](https://www.facebook.com/SillyDaddy7605)
- **X (Twitter):** [x.com/LookDeepSonSon](https://x.com/LookDeepSonSon)
